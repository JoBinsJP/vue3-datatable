var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,a)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,__spreadValues=(e,t)=>{for(var a in t||(t={}))__hasOwnProp.call(t,a)&&__defNormalProp(e,a,t[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(t))__propIsEnum.call(t,a)&&__defNormalProp(e,a,t[a]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t));!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@jobinsjp/vue3-datatable"]={},e.Vue)}(this,(function(e,t){"use strict";const a={},o={xmlns:"http://www.w3.org/2000/svg",class:"dt-h-5 dt-w-5",viewBox:"0 0 20 20",fill:"currentColor"},n=[t.createElementVNode("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"},null,-1)];a.render=function(e,a){return t.openBlock(),t.createElementBlock("svg",o,n)};var d=t.defineComponent({name:"Loading"});t.pushScopeId("data-v-685865e4");const r={class:"dt__loading dt-absolute dt-h-full dt-w-full"},l=[t.createElementVNode("div",{class:"dt-flex dt-justify-center dt-items-center"},[t.createElementVNode("div",{class:"dt__loading_item dt-absolute dt-w-20 dt-h-20 dt-rounded-full"}),t.createElementVNode("div",{class:"dt__loading_item dt-absolute dt-w-20 dt-h-20 dt-rounded-full"})],-1)];t.popScopeId(),d.render=function(e,a,o,n,d,s){return t.openBlock(),t.createElementBlock("div",r,l)},d.__scopeId="data-v-685865e4";var s=t.defineComponent({name:"PaginationLink",props:{active:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},setup:e=>({linkClasses:t.computed((()=>e.active?"dt-bg-gray-200 dt-border-gray-300 dt-text-gray-800 hover:dt-bg-gray-200":e.disabled?"dt-cursor-not-allowed dt-text-gray-400":"dt-border-gray-300 dt-bg-white dt-text-gray-500 hover:dt-bg-gray-50"))})});s.render=function(e,a,o,n,d,r){return t.openBlock(),t.createElementBlock("a",t.mergeProps({href:"#",class:["dt__pagination__link dt-relative dt-inline-flex dt-items-center dt-px-4 dt-py-2 dt-border dt-text-sm dt-font-medium",e.linkClasses]},t.toHandlers(__spreadValues({},e.$attrs))),[t.renderSlot(e.$slots,"default")],16)};const i="left";var c=t.defineComponent({name:"Pagination",components:{PaginationLink:s},props:{total:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!1,default:1},maxVisibleButtons:{type:Number,required:!1,default:5}},emits:["changed"],setup(e,{emit:a}){const o=t.computed((()=>(e.currentPage-1)*e.perPage+1)),n=t.computed((()=>e.total>e.currentPage*e.perPage?e.currentPage*e.perPage:e.total)),d=t.computed((()=>Math.ceil(e.total/e.perPage))),r=t.computed((()=>1===e.currentPage?1:e.currentPage===d.value?d.value-e.maxVisibleButtons+1:e.currentPage-1)),l=t.computed((()=>Math.min(r.value+e.maxVisibleButtons-1,d.value))),s=t.computed((()=>{const e=[];for(let t=r.value;t<=l.value;t+=1)t>0&&e.push(t);return e})),c=t.computed((()=>1===e.currentPage)),u=t.computed((()=>e.currentPage===d.value)),p=e=>{a("changed",e)};return{currentStart:o,currentEnd:n,totalPages:d,pages:s,isInFirstPage:c,isInLastPage:u,goToPageNumber:p,gotoFirstPage:()=>p(1),gotoLastPage:()=>p(d.value),gotoNextPage:()=>p(e.currentPage>=d.value?d.value:e.currentPage+1),gotoPreviousPage:()=>p(e.currentPage<=1?1:e.currentPage-1),showDots:(e=i)=>{const t=e===i?1:d.value,a=e===i?2:d.value-1;return!s.value.includes(t)||!s.value.includes(a)}}}});const u={key:0,class:"dt__pagination dt-bg-white dt-px-4 dt-py-3 dt-flex dt-items-center dt-justify-between sm:dt-px-6"},p={class:"dt-hidden sm:dt-flex-1 sm:dt-flex sm:dt-items-center sm:dt-justify-between"},g={class:"dt__pagination__info dt-text-sm dt-text-gray-700"},m=t.createTextVNode(" Showing "),_=["textContent"],b=t.createTextVNode(" to "),f=["textContent"],y=t.createTextVNode(" of "),v=["textContent"],h=t.createTextVNode(" results. "),P={key:0},x={class:"dt__pagination__nav dt-relative dt-z-0 dt-inline-flex dt-rounded-md dt-shadow-sm dt--space-x-px","aria-label":"Pagination"},k=t.createElementVNode("span",{class:"dt-sr-only"},"Go to first",-1),w=t.createTextVNode(" « "),N=t.createElementVNode("span",{class:"dt-sr-only"},"Previous",-1),C=t.createTextVNode(" ‹ "),V=t.createTextVNode(" 1 "),B=t.createTextVNode(" ... "),E=t.createTextVNode(" ... "),S=t.createElementVNode("span",{class:"dt-sr-only"},"Next",-1),O=t.createTextVNode(" › "),I=t.createElementVNode("span",{class:"dt-sr-only"},"Go to Last",-1),T=t.createTextVNode(" » ");c.render=function(e,a,o,n,d,r){const l=t.resolveComponent("pagination-link");return e.totalPages?(t.openBlock(),t.createElementBlock("div",u,[t.createElementVNode("div",p,[t.withDirectives(t.createElementVNode("div",null,[t.createElementVNode("p",g,[t.renderSlot(e.$slots,"pagination-info",{currentStart:e.currentStart,currentEnd:e.currentEnd,total:e.total},(()=>[m,t.createElementVNode("span",{class:"dt-font-medium",textContent:t.toDisplayString(e.currentStart)},null,8,_),b,t.createElementVNode("span",{class:"dt-font-medium",textContent:t.toDisplayString(e.currentEnd)},null,8,f),y,t.createElementVNode("span",{class:"dt-font-medium",textContent:t.toDisplayString(e.total)},null,8,v),h]))])],512),[[t.vShow,e.total]]),e.totalPages>1?(t.openBlock(),t.createElementBlock("div",P,[t.createElementVNode("nav",x,[t.createVNode(l,{disabled:e.isInFirstPage,class:"dt-rounded-l-md",onClick:t.withModifiers(e.gotoFirstPage,["prevent"])},{default:t.withCtx((()=>[k,w])),_:1},8,["disabled","onClick"]),t.createVNode(l,{disabled:e.isInFirstPage,onClick:t.withModifiers(e.gotoPreviousPage,["prevent"])},{default:t.withCtx((()=>[N,C])),_:1},8,["disabled","onClick"]),e.showDots("left")?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createVNode(l,{class:"dt-block sm:dt-hidden",disabled:e.isInFirstPage,active:e.isInFirstPage,onClick:t.withModifiers(e.gotoFirstPage,["prevent"])},{default:t.withCtx((()=>[V])),_:1},8,["disabled","active","onClick"]),t.createVNode(l,{class:"sm:dt-hidden"},{default:t.withCtx((()=>[B])),_:1})],64)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.pages,((a,o)=>(t.openBlock(),t.createBlock(l,{key:`pages_${o}`,class:"dt-hidden md:dt-inline-block",active:a===e.currentPage,disabled:a===e.currentPage,onClick:t.withModifiers((t=>e.goToPageNumber(a)),["prevent"])},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(a),1)])),_:2},1032,["active","disabled","onClick"])))),128)),e.showDots("right")?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createVNode(l,{class:"sm:dt-hidden"},{default:t.withCtx((()=>[E])),_:1}),t.createVNode(l,{class:"sm:dt-hidden",disabled:e.isInLastPage,active:e.isInLastPage,onClick:t.withModifiers(e.gotoLastPage,["prevent"])},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.totalPages),1)])),_:1},8,["disabled","active","onClick"])],64)):t.createCommentVNode("",!0),t.createVNode(l,{disabled:e.isInLastPage,onClick:t.withModifiers(e.gotoNextPage,["prevent"])},{default:t.withCtx((()=>[S,O])),_:1},8,["disabled","onClick"]),t.createVNode(l,{disabled:e.isInLastPage,class:"dt-rounded-r-md",onClick:t.withModifiers(e.gotoLastPage,["prevent"])},{default:t.withCtx((()=>[I,T])),_:1},8,["disabled","onClick"])])])):t.createCommentVNode("",!0)])])):t.createCommentVNode("",!0)};const D={},q={class:"dt__table__tbody_td dt-px-6 dt-py-4 dt-whitespace-nowrap dt-text-sm dt-font-medium dt-text-gray-500"};D.render=function(e,a){return t.openBlock(),t.createElementBlock("td",q,[t.renderSlot(e.$slots,"default")])};const L={},j={scope:"col",class:"dt__table__thead__th dt-px-6 dt-py-3 dt-text-left dt-text-xs dt-font-medium dt-text-gray-500 dt-uppercase dt-tracking-wider"};L.render=function(e,a){return t.openBlock(),t.createElementBlock("th",j,[t.renderSlot(e.$slots,"default")])};const $=[5,10,15,25,50,75,100],F=t.defineComponent({components:{SearchIcon:a,Loading:d,Pagination:c,TableBody:D,TableHead:L},props:{rows:{type:Array,required:!0},columns:{type:Object,required:!1,default:null},pagination:{type:Object,required:!1,default:null},striped:{type:Boolean,required:!1,default:!1},sn:{type:Boolean,required:!1,default:!1},filter:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},perPageOptions:{type:Array,required:!1,default:()=>$},query:{type:Object,required:!1,default:()=>({})}},emits:["loadData"],setup(e,{emit:a}){var o,n;const d=t.ref({page:(null==(o=e.pagination)?void 0:o.page)||1,search:e.query.search||"",per_page:(null==(n=e.pagination)?void 0:n.per_page)||10}),r=t.computed((()=>!!e.pagination)),l=t.computed((()=>{var t;return(null==(t=e.pagination)?void 0:t.total)||e.rows.length})),s=t.computed((()=>e.rows)),i=t.computed((()=>e.columns?e.columns:0===e.rows.length?{}:Object.keys(e.rows[0]).reduce(((e,t)=>__spreadProps(__spreadValues({},e),{[t]:t})),{}))),c=t.computed((()=>r.value?d.value.per_page*(d.value.page-1):0));t.watch((()=>__spreadValues({},d.value)),(()=>{a("loadData",d.value)}),{deep:!0,immediate:!0});const u=((e,t=400)=>{let a;return(...o)=>{clearTimeout(a),a=setTimeout((()=>e(...o)),t)}})((e=>{d.value=__spreadProps(__spreadValues({},d.value),{page:1,search:e.target.value})}));return{tableQuery:d,showPagination:r,totalData:l,tableRows:s,tableColumns:i,paginatedRowIndex:c,uniqueId:()=>Math.floor(100*Math.random()),handlePageChange:e=>{d.value.page=e},handleOnSearchChange:u,handleOnChange:e=>{const{name:t,value:a}=e.target;d.value=__spreadProps(__spreadValues({},d.value),{page:1,[t]:a})}}}});const M={class:"data-table dt-flex dt-flex-col"},Q={class:"dt-align-middle dt-min-w-full"},z={key:0,class:"dt__filter dt-mb-3 dt-w-full"},R={class:"dt-w-64"},A=t.createElementVNode("label",{for:"email",class:"dt-sr-only"},"Search",-1),H={class:"dt-relative dt-rounded-md dt-shadow-sm"},G=["value"],J={class:"dt-absolute dt-inset-y-0 dt-right-0 dt-pr-3 dt-flex dt-items-center dt-pointer-events-none"},K={class:"dt__table_wrapper dt-relative dt-overflow-hidden sm:dt-rounded-lg"},U={key:1,class:"dt__pagination_wrapper--top md:dt-flex smdt-flex-col dt-bg-white dt-items-center"},W={class:"dt__pagination_size_wrapper dt-pr-4 dt-w-full dt-pb-3 dt-flex dt-justify-end sm:dt-pr-6 sm:dt-pb-0 sm:dt-w-auto"},X=t.createElementVNode("label",{for:"location",class:"dt-sr-only"},"Per page",-1),Y=["value"],Z=["value","selected","textContent"],ee={class:"dt__table_container dt-overflow-auto"},te={class:"dt__table dt-min-w-full dt-divide-y dt-divide-gray-200"},ae={class:"dt__table__thead dt-bg-gray-50"},oe={class:"dt__table__thead_tr"},ne={class:"dt__table__tbody"},de={key:2,class:"dt__pagination_wrapper--bottom"};F.render=function(e,a,o,n,d,r){const l=t.resolveComponent("search-icon"),s=t.resolveComponent("Loading"),i=t.resolveComponent("pagination"),c=t.resolveComponent("table-head"),u=t.resolveComponent("table-body");return t.openBlock(),t.createElementBlock("div",M,[t.createElementVNode("div",Q,[e.filter?(t.openBlock(),t.createElementBlock("div",z,[t.createElementVNode("div",R,[A,t.createElementVNode("div",H,[t.createElementVNode("input",{value:e.tableQuery.search,type:"search",name:"search",class:"dt__filter__search dt-block dt-border dt-border-gray-300 dt-pr-10 dt-px-2 dt-py-2\n                                    dt-rounded-md dt-w-full dt-outline-none focus:dt-ring-1 focus:dt-ring-inset sm:dt-text-sm",onInput:a[0]||(a[0]=(...t)=>e.handleOnSearchChange&&e.handleOnSearchChange(...t))},null,40,G),t.createElementVNode("div",J,[t.createVNode(l,{class:"dt-text-gray-400"})])])])])):t.createCommentVNode("",!0),t.createElementVNode("div",K,[e.loading?t.renderSlot(e.$slots,"loading",{key:0},(()=>[t.createVNode(s)])):t.createCommentVNode("",!0),e.showPagination?(t.openBlock(),t.createElementBlock("div",U,[t.createVNode(i,{class:"dt-flex-1",total:e.totalData,"current-page":e.tableQuery.page,"per-page":parseInt(e.tableQuery.per_page.toString()),onChanged:e.handlePageChange},null,8,["total","current-page","per-page","onChanged"]),t.createElementVNode("div",W,[t.createElementVNode("div",null,[X,t.createElementVNode("select",{value:e.tableQuery.per_page,name:"per_page",class:"dt__pagination_size dt-block dt-w-full dt-pl-3 dt-pr-5 dt-py-2 dt-text-base dt-border dt-border-gray-300 sm:dt-text-sm dt-rounded-md dt-outline-none focus:dt-ring-1",onInput:a[1]||(a[1]=(...t)=>e.handleOnChange&&e.handleOnChange(...t))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.perPageOptions,(a=>(t.openBlock(),t.createElementBlock("option",{key:`per_page_${a}`,value:a,selected:a===e.tableQuery.per_page,textContent:t.toDisplayString(a)},null,8,Z)))),128))],40,Y)])])])):t.createCommentVNode("",!0),t.createElementVNode("div",ee,[t.createElementVNode("table",te,[t.createElementVNode("thead",ae,[t.createElementVNode("tr",oe,[e.sn?t.renderSlot(e.$slots,"thead-sn",{key:0},(()=>[t.createVNode(c,{textContent:t.toDisplayString("S.N.")},null,8,["textContent"])])):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"thead",{column:e.tableColumns},(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.tableColumns,((e,a)=>(t.openBlock(),t.createBlock(c,{key:`datatable-thead-th-${a}`,textContent:t.toDisplayString(e)},null,8,["textContent"])))),128))]))])]),t.createElementVNode("tbody",ne,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.tableRows,((a,o)=>(t.openBlock(),t.createElementBlock("tr",{key:`datatable-tbody-${e.uniqueId()}-${o}`,class:t.normalizeClass(["dt__table__tbody__tr",e.striped&&o%2?"dt-bg-gray-50":"dt-bg-white"])},[e.sn?t.renderSlot(e.$slots,"tbody-sn",{key:0,sn:o+1},(()=>[t.createVNode(u,{textContent:t.toDisplayString(o+1+e.paginatedRowIndex)},null,8,["textContent"])])):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"tbody",{index:o,row:a},(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.tableColumns,((o,n)=>(t.openBlock(),t.createBlock(u,{key:`datatable-tbody-td-${e.uniqueId()}-${n}`,name:o,textContent:t.toDisplayString(a[n])},null,8,["name","textContent"])))),128))]))],2)))),128))])])]),e.showPagination?(t.openBlock(),t.createElementBlock("div",de,[t.createVNode(i,{total:e.totalData,"current-page":e.tableQuery.page,"per-page":parseInt(e.tableQuery.per_page.toString()),onChanged:e.handlePageChange},null,8,["total","current-page","per-page","onChanged"])])):t.createCommentVNode("",!0)])])])},e.DataTable=F,e.Pagination=c,e.PaginationLink=s,e.TableBody=D,e.TableHead=L,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
