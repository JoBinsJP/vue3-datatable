var __defProp=Object.defineProperty,__hasOwnProp=Object.prototype.hasOwnProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,a)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,__assign=(e,t)=>{for(var a in t||(t={}))__hasOwnProp.call(t,a)&&__defNormalProp(e,a,t[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(t))__propIsEnum.call(t,a)&&__defNormalProp(e,a,t[a]);return e};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@jobinsjp/vue3-datatable"]={},e.Vue)}(this,(function(e,t){"use strict";const a={},o={xmlns:"http://www.w3.org/2000/svg",class:"dt-h-5 dt-w-5",viewBox:"0 0 20 20",fill:"currentColor"},r=t.createVNode("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"},null,-1);a.render=function(e,a){return t.openBlock(),t.createBlock("svg",o,[r])};var n=t.defineComponent({name:"Loading"});const d=t.withScopeId("data-v-f17dff8e");t.pushScopeId("data-v-f17dff8e");const l={class:"spinner dt-absolute dt-h-full dt-w-full dt-flex dt-justify-center"},s=t.createVNode("div",{class:"spinner-item dt-absolute dt-w-20 dt-h-20 dt-rounded-full"},null,-1),c=t.createVNode("div",{class:"spinner-item dt-absolute dt-w-20 dt-h-20 dt-rounded-full"},null,-1);t.popScopeId();const i=d(((e,a,o,r,n,d)=>(t.openBlock(),t.createBlock("div",l,[s,c]))));n.render=i,n.__scopeId="data-v-f17dff8e";var u=t.defineComponent({name:"PaginationLink",props:{active:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},setup:e=>({linkClasses:t.computed((()=>e.active?"dt-bg-gray-200 dt-border-gray-300 dt-text-gray-800 hover:dt-bg-gray-200":e.disabled?"dt-cursor-not-allowed dt-text-gray-400":"dt-border-gray-300 dt-bg-white dt-text-gray-500 hover:dt-bg-gray-50"))})});u.render=function(e,a,o,r,n,d){return t.openBlock(),t.createBlock("a",t.mergeProps({href:"#",class:["dt-relative dt-inline-flex dt-items-center dt-px-4 dt-py-2 dt-border dt-text-sm dt-font-medium",e.linkClasses]},t.toHandlers(__assign({},e.$attrs))),[t.renderSlot(e.$slots,"default")],16)};const p="left";var g=t.defineComponent({name:"Pagination",components:{PaginationLink:u},props:{total:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!1,default:1},maxVisibleButtons:{type:Number,required:!1,default:5}},emits:["changed"],setup(e,{emit:a}){const o=t.computed((()=>(e.currentPage-1)*e.perPage+1)),r=t.computed((()=>e.total>e.currentPage*e.perPage?e.currentPage*e.perPage:e.total)),n=t.computed((()=>Math.ceil(e.total/e.perPage))),d=t.computed((()=>1===e.currentPage?1:e.currentPage===n.value?n.value-e.maxVisibleButtons+1:e.currentPage-1)),l=t.computed((()=>Math.min(d.value+e.maxVisibleButtons-1,n.value))),s=t.computed((()=>{const e=[];for(let t=d.value;t<=l.value;t+=1)t>0&&e.push(t);return e})),c=t.computed((()=>1===e.currentPage)),i=t.computed((()=>e.currentPage===n.value)),u=e=>{a("changed",e)};return{currentStart:o,currentEnd:r,totalPages:n,pages:s,isInFirstPage:c,isInLastPage:i,goToPageNumber:u,gotoFirstPage:()=>u(1),gotoLastPage:()=>u(n.value),gotoNextPage:()=>u(e.currentPage>=n.value?n.value:e.currentPage+1),gotoPreviousPage:()=>u(e.currentPage<=1?1:e.currentPage-1),showDots:(e=p)=>{const t=e===p?1:n.value,a=e===p?2:n.value-1;return!s.value.includes(t)||!s.value.includes(a)}}}});const m={key:0,class:"dt-bg-white dt-px-4 dt-py-3 dt-flex dt-items-center dt-justify-between dt-border-t dt-border-gray-200 sm:dt-px-6"},f={class:"dt-hidden sm:dt-flex-1 sm:dt-flex sm:dt-items-center sm:dt-justify-between"},b={class:"dt-text-sm dt-text-gray-700"},v=t.createTextVNode(" Showing "),y=t.createTextVNode(" to "),h=t.createTextVNode(" of "),x=t.createTextVNode(" results. "),k={key:0},w={class:"dt-relative dt-z-0 dt-inline-flex dt-rounded-md dt-shadow-sm dt--space-x-px","aria-label":"Pagination"},C=t.createVNode("span",{class:"dt-sr-only"},"Go to first",-1),N=t.createTextVNode(" « "),P=t.createVNode("span",{class:"dt-sr-only"},"Previous",-1),V=t.createTextVNode(" ‹ "),_=t.createTextVNode(" 1 "),B=t.createTextVNode(" ... "),S=t.createTextVNode(" ... "),I=t.createVNode("span",{class:"dt-sr-only"},"Next",-1),T=t.createTextVNode(" › "),O=t.createVNode("span",{class:"dt-sr-only"},"Go to Last",-1),q=t.createTextVNode(" » ");g.render=function(e,a,o,r,n,d){const l=t.resolveComponent("pagination-link");return e.totalPages?(t.openBlock(),t.createBlock("div",m,[t.createVNode("div",f,[t.withDirectives(t.createVNode("div",null,[t.createVNode("p",b,[t.renderSlot(e.$slots,"pagination-info",{currentStart:e.currentStart,currentEnd:e.currentEnd,total:e.total},(()=>[v,t.createVNode("span",{class:"dt-font-medium",textContent:t.toDisplayString(e.currentStart)},null,8,["textContent"]),y,t.createVNode("span",{class:"dt-font-medium",textContent:t.toDisplayString(e.currentEnd)},null,8,["textContent"]),h,t.createVNode("span",{class:"dt-font-medium",textContent:t.toDisplayString(e.total)},null,8,["textContent"]),x]))])],512),[[t.vShow,e.total]]),e.totalPages>1?(t.openBlock(),t.createBlock("div",k,[t.createVNode("nav",w,[t.createVNode(l,{disabled:e.isInFirstPage,class:"dt-rounded-l-md",onClick:t.withModifiers(e.gotoFirstPage,["prevent"])},{default:t.withCtx((()=>[C,N])),_:1},8,["disabled","onClick"]),t.createVNode(l,{disabled:e.isInFirstPage,onClick:t.withModifiers(e.gotoPreviousPage,["prevent"])},{default:t.withCtx((()=>[P,V])),_:1},8,["disabled","onClick"]),e.showDots("left")?(t.openBlock(),t.createBlock(t.Fragment,{key:0},[t.createVNode(l,{disabled:e.isInFirstPage,active:e.isInFirstPage,onClick:t.withModifiers(e.gotoFirstPage,["prevent"])},{default:t.withCtx((()=>[_])),_:1},8,["disabled","active","onClick"]),t.createVNode(l,null,{default:t.withCtx((()=>[B])),_:1})],64)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(e.pages,((a,o)=>(t.openBlock(),t.createBlock(l,{key:`pages_${o}`,active:a===e.currentPage,disabled:a===e.currentPage,onClick:t.withModifiers((t=>e.goToPageNumber(a)),["prevent"])},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(a),1)])),_:2},1032,["active","disabled","onClick"])))),128)),e.showDots("right")?(t.openBlock(),t.createBlock(t.Fragment,{key:1},[t.createVNode(l,null,{default:t.withCtx((()=>[S])),_:1}),t.createVNode(l,{disabled:e.isInLastPage,active:e.isInLastPage,onClick:t.withModifiers(e.gotoLastPage,["prevent"])},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.totalPages),1)])),_:1},8,["disabled","active","onClick"])],64)):t.createCommentVNode("",!0),t.createVNode(l,{disabled:e.isInLastPage,onClick:t.withModifiers(e.gotoNextPage,["prevent"])},{default:t.withCtx((()=>[I,T])),_:1},8,["disabled","onClick"]),t.createVNode(l,{disabled:e.isInLastPage,class:"dt-rounded-r-md",onClick:t.withModifiers(e.gotoLastPage,["prevent"])},{default:t.withCtx((()=>[O,q])),_:1},8,["disabled","onClick"])])])):t.createCommentVNode("",!0)])])):t.createCommentVNode("",!0)};const D={},L={class:"dt-px-6 dt-py-4 dt-whitespace-nowrap dt-text-sm dt-font-medium dt-text-gray-500"};D.render=function(e,a){return t.openBlock(),t.createBlock("td",L,[t.renderSlot(e.$slots,"default")])};const $={},j={scope:"col",class:"dt-px-6 dt-py-3 dt-text-left dt-text-xs dt-font-medium dt-text-gray-500 dt-uppercase dt-tracking-wider"};$.render=function(e,a){return t.openBlock(),t.createBlock("th",j,[t.renderSlot(e.$slots,"default")])};const F=[5,10,15,25,50,75,100],M=t.defineComponent({components:{SearchIcon:a,Loading:n,Pagination:g,TableBody:D,TableHead:$},props:{rows:{type:Array,required:!0},columns:{type:Object,required:!1,default:null},pagination:{type:Object,required:!1,default:null},striped:{type:Boolean,required:!1,default:!1},sn:{type:Boolean,required:!1,default:!1},filter:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},perPageOptions:{type:Array,required:!1,default:()=>F},query:{type:Object,required:!1,default:()=>({})}},emits:["loadData"],setup(e,{emit:a}){var o,r;const n=t.ref({page:(null==(o=e.pagination)?void 0:o.page)||1,search:e.query.search||"",per_page:(null==(r=e.pagination)?void 0:r.per_page)||10}),d=t.computed((()=>!!e.pagination)),l=t.computed((()=>{var t;return(null==(t=e.pagination)?void 0:t.total)||e.rows.length})),s=t.computed((()=>e.rows)),c=t.computed((()=>e.columns?e.columns:0===e.rows.length?{}:Object.keys(e.rows[0]).reduce(((e,t)=>__assign(__assign({},e),{[t]:t})),{}))),i=t.computed((()=>d.value?n.value.per_page*(n.value.page-1):0));t.watch((()=>__assign({},n.value)),(()=>{a("loadData",n.value)}),{deep:!0,immediate:!0});const u=((e,t=400)=>{let a;return(...o)=>{clearTimeout(a),a=setTimeout((()=>e(...o)),t)}})((e=>{n.value=__assign(__assign({},n.value),{page:1,search:e.target.value})}));return{tableQuery:n,showPagination:d,totalData:l,tableRows:s,tableColumns:c,paginatedRowIndex:i,uniqueId:()=>Math.floor(100*Math.random()),handlePageChange:e=>{n.value.page=e},handleOnSearchChange:u,handleOnChange:e=>{const{name:t,value:a}=e.target;n.value=__assign(__assign({},n.value),{page:1,[t]:a})}}}});const Q=t.withScopeId("data-v-19b9c750");t.pushScopeId("data-v-19b9c750");const E={class:"data-table dt-flex dt-flex-col"},R={class:"dt--my-2 dt-overflow-x-auto sm:dt--mx-6 lg:dt--mx-8"},z={class:"dt-align-middle dt-inline-block dt-min-w-full"},A={key:0,class:"dt-filter-wrapper dt-mb-3 dt-w-full"},H={class:"dt-w-64"},G=t.createVNode("label",{for:"email",class:"dt-sr-only"},"Search",-1),J={class:"dt-relative dt-rounded-md dt-shadow-sm"},K={class:"dt-absolute dt-inset-y-0 dt-right-0 dt-pr-3 dt-flex dt-items-center dt-pointer-events-none"},U={class:"table-wrapper dt-relative dt-shadow dt-overflow-hidden dt-border-b dt-border-gray-200 sm:dt-rounded-lg"},W={key:1,class:"pagination-wrapper dt-flex dt-bg-white dt-items-center"},X={class:"dt-pr-4"},Y=t.createVNode("label",{for:"location",class:"dt-sr-only"},"Per page",-1),Z={class:"dt-min-w-full dt-divide-y dt-divide-gray-200"},ee={class:"dt-bg-gray-50"},te={key:2,class:"pagination-wrapper"};t.popScopeId();const ae=Q(((e,a,o,r,n,d)=>{const l=t.resolveComponent("search-icon"),s=t.resolveComponent("Loading"),c=t.resolveComponent("pagination"),i=t.resolveComponent("table-head"),u=t.resolveComponent("table-body");return t.openBlock(),t.createBlock("div",E,[t.createVNode("div",R,[t.createVNode("div",z,[e.filter?(t.openBlock(),t.createBlock("div",A,[t.createVNode("div",H,[G,t.createVNode("div",J,[t.createVNode("input",{value:e.tableQuery.search,type:"search",name:"search",class:"focus:dt-ring-0 dt-block dt-w-full dt-pr-10 sm:dt-text-sm dt-border-gray-300 dt-rounded-md",onInput:a[1]||(a[1]=(...t)=>e.handleOnSearchChange&&e.handleOnSearchChange(...t))},null,40,["value"]),t.createVNode("div",K,[t.createVNode(l,{class:"dt-text-gray-400"})])])])])):t.createCommentVNode("",!0),t.createVNode("div",U,[e.loading?t.renderSlot(e.$slots,"loading",{key:0},(()=>[t.createVNode(s)]),{},!0):t.createCommentVNode("",!0),e.showPagination?(t.openBlock(),t.createBlock("div",W,[t.createVNode(c,{class:"dt-flex-1",total:e.totalData,"current-page":e.tableQuery.page,"per-page":parseInt(e.tableQuery.per_page.toString()),onChanged:e.handlePageChange},null,8,["total","current-page","per-page","onChanged"]),t.createVNode("div",X,[Y,t.createVNode("select",{value:e.tableQuery.per_page,name:"per_page",class:"dt-block dt-w-full dt-pl-3 dt-pr-10 dt-py-2 dt-text-base dt-border-gray-300 sm:dt-text-sm dt-rounded-md",onInput:a[2]||(a[2]=(...t)=>e.handleOnChange&&e.handleOnChange(...t))},[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(e.perPageOptions,(a=>(t.openBlock(),t.createBlock("option",{key:`per_page_${a}`,value:a,selected:a===e.tableQuery.per_page,textContent:t.toDisplayString(a)},null,8,["value","selected","textContent"])))),128))],40,["value"])])])):t.createCommentVNode("",!0),t.createVNode("table",Z,[t.createVNode("thead",ee,[t.createVNode("tr",null,[e.sn?t.renderSlot(e.$slots,"thead-sn",{key:0},(()=>[t.createVNode(i,{textContent:t.toDisplayString("S.N.")},null,8,["textContent"])]),{},!0):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"thead",{column:e.tableColumns},(()=>[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(e.tableColumns,((e,a)=>(t.openBlock(),t.createBlock(i,{key:`datatable-thead-th-${a}`,textContent:t.toDisplayString(e)},null,8,["textContent"])))),128))]),!0)])]),t.createVNode("tbody",null,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(e.tableRows,((a,o)=>(t.openBlock(),t.createBlock("tr",{key:`datatable-tbody-${e.uniqueId()}-${o}`,class:e.striped&&o%2?"dt-bg-gray-50":"dt-bg-white"},[e.sn?t.renderSlot(e.$slots,"tbody-sn",{key:0,sn:o+1},(()=>[t.createVNode(u,{textContent:t.toDisplayString(o+1+e.paginatedRowIndex)},null,8,["textContent"])]),!0):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"tbody",{index:o,row:a},(()=>[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(e.tableColumns,((o,r)=>(t.openBlock(),t.createBlock(u,{key:`datatable-tbody-td-${e.uniqueId()}-${r}`,name:o,textContent:t.toDisplayString(a[r])},null,8,["name","textContent"])))),128))]),!0)],2)))),128))])]),e.showPagination?(t.openBlock(),t.createBlock("div",te,[t.createVNode(c,{total:e.totalData,"current-page":e.tableQuery.page,"per-page":parseInt(e.tableQuery.per_page.toString()),onChanged:e.handlePageChange},null,8,["total","current-page","per-page","onChanged"])])):t.createCommentVNode("",!0)])])])])}));M.render=ae,M.__scopeId="data-v-19b9c750",e.DataTable=M,e.TableBody=D,e.TableHead=$,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
