var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,s=(e,t)=>{for(var a in t||(t={}))d.call(t,a)&&r(e,a,t[a]);if(n)for(var a of n(t))l.call(t,a)&&r(e,a,t[a]);return e},o=(e,n)=>t(e,a(n));import{openBlock as i,createBlock as u,createVNode as c,defineComponent as g,pushScopeId as p,popScopeId as b,withScopeId as v,computed as f,mergeProps as m,toHandlers as y,renderSlot as h,resolveComponent as P,withDirectives as x,toDisplayString as w,vShow as C,withModifiers as k,withCtx as I,Fragment as _,createCommentVNode as O,renderList as q,createTextVNode as $,ref as L,watch as j}from"vue";const S={},B={xmlns:"http://www.w3.org/2000/svg",class:"dt-h-5 dt-w-5",viewBox:"0 0 20 20",fill:"currentColor"},N=c("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"},null,-1);S.render=function(e,t){return i(),u("svg",B,[N])};var D=g({name:"Loading"});const F=v("data-v-f17dff8e");p("data-v-f17dff8e");const Q={class:"spinner dt-absolute dt-h-full dt-w-full dt-flex dt-justify-center"},T=c("div",{class:"spinner-item dt-absolute dt-w-20 dt-h-20 dt-rounded-full"},null,-1),M=c("div",{class:"spinner-item dt-absolute dt-w-20 dt-h-20 dt-rounded-full"},null,-1);b();const E=F(((e,t,a,n,d,l)=>(i(),u("div",Q,[T,M]))));D.render=E,D.__scopeId="data-v-f17dff8e";var R=g({name:"PaginationLink",props:{active:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},setup:e=>({linkClasses:f((()=>e.active?"dt-bg-gray-200 dt-border-gray-300 dt-text-gray-800 hover:dt-bg-gray-200":e.disabled?"dt-cursor-not-allowed dt-text-gray-400":"dt-border-gray-300 dt-bg-white dt-text-gray-500 hover:dt-bg-gray-50"))})});R.render=function(e,t,a,n,d,l){return i(),u("a",m({href:"#",class:["dt-relative dt-inline-flex dt-items-center dt-px-4 dt-py-2 dt-border dt-text-sm dt-font-medium",e.linkClasses]},y(s({},e.$attrs))),[h(e.$slots,"default")],16)};var z=g({name:"Pagination",components:{PaginationLink:R},props:{total:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!1,default:1},maxVisibleButtons:{type:Number,required:!1,default:5}},emits:["changed"],setup(e,{emit:t}){const a=f((()=>(e.currentPage-1)*e.perPage+1)),n=f((()=>e.total>e.currentPage*e.perPage?e.currentPage*e.perPage:e.total)),d=f((()=>Math.ceil(e.total/e.perPage))),l=f((()=>1===e.currentPage?1:e.currentPage===d.value?d.value-e.maxVisibleButtons+1:e.currentPage-1)),r=f((()=>Math.min(l.value+e.maxVisibleButtons-1,d.value))),s=f((()=>{const e=[];for(let t=l.value;t<=r.value;t+=1)t>0&&e.push(t);return e})),o=f((()=>1===e.currentPage)),i=f((()=>e.currentPage===d.value)),u=e=>{t("changed",e)};return{currentStart:a,currentEnd:n,totalPages:d,pages:s,isInFirstPage:o,isInLastPage:i,goToPageNumber:u,gotoFirstPage:()=>u(1),gotoLastPage:()=>u(d.value),gotoNextPage:()=>u(e.currentPage>=d.value?d.value:e.currentPage+1),gotoPreviousPage:()=>u(e.currentPage<=1?1:e.currentPage-1),showDots:(e="left")=>{const t="left"===e?1:d.value,a="left"===e?2:d.value-1;return!s.value.includes(t)||!s.value.includes(a)}}}});const A={key:0,class:"dt-bg-white dt-px-4 dt-py-3 dt-flex dt-items-center dt-justify-between dt-border-t dt-border-gray-200 sm:dt-px-6"},V={class:"dt-hidden sm:dt-flex-1 sm:dt-flex sm:dt-items-center sm:dt-justify-between"},G={class:"dt-text-sm dt-text-gray-700"},H=$(" Showing "),J=$(" to "),K=$(" of "),U=$(" results. "),W={key:0},X={class:"dt-relative dt-z-0 dt-inline-flex dt-rounded-md dt-shadow-sm dt--space-x-px","aria-label":"Pagination"},Y=c("span",{class:"dt-sr-only"},"Go to first",-1),Z=$(" « "),ee=c("span",{class:"dt-sr-only"},"Previous",-1),te=$(" ‹ "),ae=$(" 1 "),ne=$(" ... "),de=$(" ... "),le=c("span",{class:"dt-sr-only"},"Next",-1),re=$(" › "),se=c("span",{class:"dt-sr-only"},"Go to Last",-1),oe=$(" » ");z.render=function(e,t,a,n,d,l){const r=P("pagination-link");return e.totalPages?(i(),u("div",A,[c("div",V,[x(c("div",null,[c("p",G,[h(e.$slots,"pagination-info",{currentStart:e.currentStart,currentEnd:e.currentEnd,total:e.total},(()=>[H,c("span",{class:"dt-font-medium",textContent:w(e.currentStart)},null,8,["textContent"]),J,c("span",{class:"dt-font-medium",textContent:w(e.currentEnd)},null,8,["textContent"]),K,c("span",{class:"dt-font-medium",textContent:w(e.total)},null,8,["textContent"]),U]))])],512),[[C,e.total]]),e.totalPages>1?(i(),u("div",W,[c("nav",X,[c(r,{disabled:e.isInFirstPage,class:"dt-rounded-l-md",onClick:k(e.gotoFirstPage,["prevent"])},{default:I((()=>[Y,Z])),_:1},8,["disabled","onClick"]),c(r,{disabled:e.isInFirstPage,onClick:k(e.gotoPreviousPage,["prevent"])},{default:I((()=>[ee,te])),_:1},8,["disabled","onClick"]),e.showDots("left")?(i(),u(_,{key:0},[c(r,{class:"dt-block sm:dt-hidden",disabled:e.isInFirstPage,active:e.isInFirstPage,onClick:k(e.gotoFirstPage,["prevent"])},{default:I((()=>[ae])),_:1},8,["disabled","active","onClick"]),c(r,{class:"sm:dt-hidden"},{default:I((()=>[ne])),_:1})],64)):O("",!0),(i(!0),u(_,null,q(e.pages,((t,a)=>(i(),u(r,{key:`pages_${a}`,class:"dt-hidden md:dt-inline-block",active:t===e.currentPage,disabled:t===e.currentPage,onClick:k((a=>e.goToPageNumber(t)),["prevent"])},{default:I((()=>[$(w(t),1)])),_:2},1032,["active","disabled","onClick"])))),128)),e.showDots("right")?(i(),u(_,{key:1},[c(r,{class:"sm:dt-hidden"},{default:I((()=>[de])),_:1}),c(r,{class:"sm:dt-hidden",disabled:e.isInLastPage,active:e.isInLastPage,onClick:k(e.gotoLastPage,["prevent"])},{default:I((()=>[$(w(e.totalPages),1)])),_:1},8,["disabled","active","onClick"])],64)):O("",!0),c(r,{disabled:e.isInLastPage,onClick:k(e.gotoNextPage,["prevent"])},{default:I((()=>[le,re])),_:1},8,["disabled","onClick"]),c(r,{disabled:e.isInLastPage,class:"dt-rounded-r-md",onClick:k(e.gotoLastPage,["prevent"])},{default:I((()=>[se,oe])),_:1},8,["disabled","onClick"])])])):O("",!0)])])):O("",!0)};const ie={},ue={class:"dt-px-6 dt-py-4 dt-whitespace-nowrap dt-text-sm dt-font-medium dt-text-gray-500"};ie.render=function(e,t){return i(),u("td",ue,[h(e.$slots,"default")])};const ce={},ge={scope:"col",class:"dt-px-6 dt-py-3 dt-text-left dt-text-xs dt-font-medium dt-text-gray-500 dt-uppercase dt-tracking-wider"};ce.render=function(e,t){return i(),u("th",ge,[h(e.$slots,"default")])};const pe=[5,10,15,25,50,75,100],be=g({components:{SearchIcon:S,Loading:D,Pagination:z,TableBody:ie,TableHead:ce},props:{rows:{type:Array,required:!0},columns:{type:Object,required:!1,default:null},pagination:{type:Object,required:!1,default:null},striped:{type:Boolean,required:!1,default:!1},sn:{type:Boolean,required:!1,default:!1},filter:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},perPageOptions:{type:Array,required:!1,default:()=>pe},query:{type:Object,required:!1,default:()=>({})}},emits:["loadData"],setup(e,{emit:t}){var a,n;const d=L({page:(null==(a=e.pagination)?void 0:a.page)||1,search:e.query.search||"",per_page:(null==(n=e.pagination)?void 0:n.per_page)||10}),l=f((()=>!!e.pagination)),r=f((()=>{var t;return(null==(t=e.pagination)?void 0:t.total)||e.rows.length})),i=f((()=>e.rows)),u=f((()=>e.columns?e.columns:0===e.rows.length?{}:Object.keys(e.rows[0]).reduce(((e,t)=>o(s({},e),{[t]:t})),{}))),c=f((()=>l.value?d.value.per_page*(d.value.page-1):0));j((()=>s({},d.value)),(()=>{t("loadData",d.value)}),{deep:!0,immediate:!0});const g=((e,t=400)=>{let a;return(...n)=>{clearTimeout(a),a=setTimeout((()=>e(...n)),t)}})((e=>{d.value=o(s({},d.value),{page:1,search:e.target.value})}));return{tableQuery:d,showPagination:l,totalData:r,tableRows:i,tableColumns:u,paginatedRowIndex:c,uniqueId:()=>Math.floor(100*Math.random()),handlePageChange:e=>{d.value.page=e},handleOnSearchChange:g,handleOnChange:e=>{const{name:t,value:a}=e.target;d.value=o(s({},d.value),{page:1,[t]:a})}}}});const ve={class:"data-table dt-flex dt-flex-col"},fe={class:"dt-align-middle dt-min-w-full"},me={key:0,class:"dt-filter-wrapper dt-mb-3 dt-w-full"},ye={class:"dt-w-64"},he=c("label",{for:"email",class:"dt-sr-only"},"Search",-1),Pe={class:"dt-relative dt-rounded-md dt-shadow-sm"},xe={class:"dt-absolute dt-inset-y-0 dt-right-0 dt-pr-3 dt-flex dt-items-center dt-pointer-events-none"},we={class:"table-wrapper dt-relative dt-shadow dt-overflow-hidden dt-border-b dt-border-gray-200 sm:dt-rounded-lg"},Ce={key:1,class:"pagination-wrapper md:dt-flex smdt-flex-col dt-bg-white dt-items-center"},ke={class:"dt-pr-4 dt-w-full dt-pb-3 dt-flex dt-justify-end sm:dt-pr-6 sm:dt-pb-0 sm:dt-w-auto"},Ie={class:""},_e=c("label",{for:"location",class:"dt-sr-only"},"Per page",-1),Oe={class:"table-container dt-overflow-auto"},qe={class:"dt-min-w-full dt-divide-y dt-divide-gray-200"},$e={class:"dt-bg-gray-50"},Le={key:2,class:"pagination-wrapper"};be.render=function(e,t,a,n,d,l){const r=P("search-icon"),s=P("Loading"),o=P("pagination"),g=P("table-head"),p=P("table-body");return i(),u("div",ve,[c("div",fe,[e.filter?(i(),u("div",me,[c("div",ye,[he,c("div",Pe,[c("input",{value:e.tableQuery.search,type:"search",name:"search",class:"focus:dt-ring-0 dt-block dt-w-full dt-pr-10 sm:dt-text-sm dt-border-gray-300 dt-rounded-md",onInput:t[1]||(t[1]=(...t)=>e.handleOnSearchChange&&e.handleOnSearchChange(...t))},null,40,["value"]),c("div",xe,[c(r,{class:"dt-text-gray-400"})])])])])):O("",!0),c("div",we,[e.loading?h(e.$slots,"loading",{key:0},(()=>[c(s)])):O("",!0),e.showPagination?(i(),u("div",Ce,[c(o,{class:"dt-flex-1",total:e.totalData,"current-page":e.tableQuery.page,"per-page":parseInt(e.tableQuery.per_page.toString()),onChanged:e.handlePageChange},null,8,["total","current-page","per-page","onChanged"]),c("div",ke,[c("div",Ie,[_e,c("select",{value:e.tableQuery.per_page,name:"per_page",class:"dt-block dt-w-full dt-pl-3 dt-pr-10 dt-py-2 dt-text-base dt-border-gray-300 sm:dt-text-sm dt-rounded-md",onInput:t[2]||(t[2]=(...t)=>e.handleOnChange&&e.handleOnChange(...t))},[(i(!0),u(_,null,q(e.perPageOptions,(t=>(i(),u("option",{key:`per_page_${t}`,value:t,selected:t===e.tableQuery.per_page,textContent:w(t)},null,8,["value","selected","textContent"])))),128))],40,["value"])])])])):O("",!0),c("div",Oe,[c("table",qe,[c("thead",$e,[c("tr",null,[e.sn?h(e.$slots,"thead-sn",{key:0},(()=>[c(g,{textContent:w("S.N.")},null,8,["textContent"])])):O("",!0),h(e.$slots,"thead",{column:e.tableColumns},(()=>[(i(!0),u(_,null,q(e.tableColumns,((e,t)=>(i(),u(g,{key:`datatable-thead-th-${t}`,textContent:w(e)},null,8,["textContent"])))),128))]))])]),c("tbody",null,[(i(!0),u(_,null,q(e.tableRows,((t,a)=>(i(),u("tr",{key:`datatable-tbody-${e.uniqueId()}-${a}`,class:e.striped&&a%2?"dt-bg-gray-50":"dt-bg-white"},[e.sn?h(e.$slots,"tbody-sn",{key:0,sn:a+1},(()=>[c(p,{textContent:w(a+1+e.paginatedRowIndex)},null,8,["textContent"])])):O("",!0),h(e.$slots,"tbody",{index:a,row:t},(()=>[(i(!0),u(_,null,q(e.tableColumns,((a,n)=>(i(),u(p,{key:`datatable-tbody-td-${e.uniqueId()}-${n}`,name:a,textContent:w(t[n])},null,8,["name","textContent"])))),128))]))],2)))),128))])])]),e.showPagination?(i(),u("div",Le,[c(o,{total:e.totalData,"current-page":e.tableQuery.page,"per-page":parseInt(e.tableQuery.per_page.toString()),onChanged:e.handlePageChange},null,8,["total","current-page","per-page","onChanged"])])):O("",!0)])])])};export{be as DataTable,z as Pagination,R as PaginationLink,ie as TableBody,ce as TableHead};
