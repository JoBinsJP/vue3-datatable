var t=Object.defineProperty,e=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(e,a,n)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,s=(t,e)=>{for(var a in e||(e={}))d.call(e,a)&&r(t,a,e[a]);if(n)for(var a of n(e))l.call(e,a)&&r(t,a,e[a]);return t},o=(t,n)=>e(t,a(n));import{openBlock as i,createElementBlock as u,createElementVNode as c,defineComponent as g,pushScopeId as p,popScopeId as b,computed as v,mergeProps as _,toHandlers as m,renderSlot as y,resolveComponent as f,withDirectives as h,toDisplayString as P,vShow as x,createVNode as w,withModifiers as C,withCtx as k,Fragment as I,createCommentVNode as O,renderList as q,createBlock as $,createTextVNode as L,ref as j,watch as S,normalizeClass as B}from"vue";const N={},D={xmlns:"http://www.w3.org/2000/svg",class:"dt-h-5 dt-w-5",viewBox:"0 0 20 20",fill:"currentColor"},F=[c("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"},null,-1)];N.render=function(t,e){return i(),u("svg",D,F)};var Q=g({name:"Loading"});p("data-v-685865e4");const T={class:"dt__loading dt-absolute dt-h-full dt-w-full"},M=[c("div",{class:"dt-flex dt-justify-center dt-items-center"},[c("div",{class:"dt__loading_item dt-absolute dt-w-20 dt-h-20 dt-rounded-full"}),c("div",{class:"dt__loading_item dt-absolute dt-w-20 dt-h-20 dt-rounded-full"})],-1)];b(),Q.render=function(t,e,a,n,d,l){return i(),u("div",T,M)},Q.__scopeId="data-v-685865e4";var z=g({name:"PaginationLink",props:{active:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},setup:t=>({linkClasses:v((()=>t.active?"dt-bg-gray-200 dt-border-gray-300 dt-text-gray-800 hover:dt-bg-gray-200":t.disabled?"dt-cursor-not-allowed dt-text-gray-400":"dt-border-gray-300 dt-bg-white dt-text-gray-500 hover:dt-bg-gray-50"))})});z.render=function(t,e,a,n,d,l){return i(),u("a",_({href:"#",class:["dt__pagination__link dt-relative dt-inline-flex dt-items-center dt-px-4 dt-py-2 dt-border dt-text-sm dt-font-medium",t.linkClasses]},m(s({},t.$attrs))),[y(t.$slots,"default")],16)};var E=g({name:"Pagination",components:{PaginationLink:z},props:{total:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!1,default:1},maxVisibleButtons:{type:Number,required:!1,default:5}},emits:["changed"],setup(t,{emit:e}){const a=v((()=>(t.currentPage-1)*t.perPage+1)),n=v((()=>t.total>t.currentPage*t.perPage?t.currentPage*t.perPage:t.total)),d=v((()=>Math.ceil(t.total/t.perPage))),l=v((()=>1===t.currentPage?1:t.currentPage===d.value?d.value-t.maxVisibleButtons+1:t.currentPage-1)),r=v((()=>Math.min(l.value+t.maxVisibleButtons-1,d.value))),s=v((()=>{const t=[];for(let e=l.value;e<=r.value;e+=1)e>0&&t.push(e);return t})),o=v((()=>1===t.currentPage)),i=v((()=>t.currentPage===d.value)),u=t=>{e("changed",t)};return{currentStart:a,currentEnd:n,totalPages:d,pages:s,isInFirstPage:o,isInLastPage:i,goToPageNumber:u,gotoFirstPage:()=>u(1),gotoLastPage:()=>u(d.value),gotoNextPage:()=>u(t.currentPage>=d.value?d.value:t.currentPage+1),gotoPreviousPage:()=>u(t.currentPage<=1?1:t.currentPage-1),showDots:(t="left")=>{const e="left"===t?1:d.value,a="left"===t?2:d.value-1;return!s.value.includes(e)||!s.value.includes(a)}}}});const R={key:0,class:"dt__pagination dt-bg-white dt-px-4 dt-py-3 dt-flex dt-items-center dt-justify-between sm:dt-px-6"},A={class:"dt-hidden sm:dt-flex-1 sm:dt-flex sm:dt-items-center sm:dt-justify-between"},V={class:"dt__pagination__info dt-text-sm dt-text-gray-700"},G=L(" Showing "),H=["textContent"],J=L(" to "),K=["textContent"],U=L(" of "),W=["textContent"],X=L(" results. "),Y={key:0},Z={class:"dt__pagination__nav dt-relative dt-z-0 dt-inline-flex dt-rounded-md dt-shadow-sm dt--space-x-px","aria-label":"Pagination"},tt=c("span",{class:"dt-sr-only"},"Go to first",-1),et=L(" « "),at=c("span",{class:"dt-sr-only"},"Previous",-1),nt=L(" ‹ "),dt=L(" 1 "),lt=L(" ... "),rt=L(" ... "),st=c("span",{class:"dt-sr-only"},"Next",-1),ot=L(" › "),it=c("span",{class:"dt-sr-only"},"Go to Last",-1),ut=L(" » ");E.render=function(t,e,a,n,d,l){const r=f("pagination-link");return t.totalPages?(i(),u("div",R,[c("div",A,[h(c("div",null,[c("p",V,[y(t.$slots,"pagination-info",{currentStart:t.currentStart,currentEnd:t.currentEnd,total:t.total},(()=>[G,c("span",{class:"dt-font-medium",textContent:P(t.currentStart)},null,8,H),J,c("span",{class:"dt-font-medium",textContent:P(t.currentEnd)},null,8,K),U,c("span",{class:"dt-font-medium",textContent:P(t.total)},null,8,W),X]))])],512),[[x,t.total]]),t.totalPages>1?(i(),u("div",Y,[c("nav",Z,[w(r,{disabled:t.isInFirstPage,class:"dt-rounded-l-md",onClick:C(t.gotoFirstPage,["prevent"])},{default:k((()=>[tt,et])),_:1},8,["disabled","onClick"]),w(r,{disabled:t.isInFirstPage,onClick:C(t.gotoPreviousPage,["prevent"])},{default:k((()=>[at,nt])),_:1},8,["disabled","onClick"]),t.showDots("left")?(i(),u(I,{key:0},[w(r,{class:"dt-block sm:dt-hidden",disabled:t.isInFirstPage,active:t.isInFirstPage,onClick:C(t.gotoFirstPage,["prevent"])},{default:k((()=>[dt])),_:1},8,["disabled","active","onClick"]),w(r,{class:"sm:dt-hidden"},{default:k((()=>[lt])),_:1})],64)):O("",!0),(i(!0),u(I,null,q(t.pages,((e,a)=>(i(),$(r,{key:`pages_${a}`,class:"dt-hidden md:dt-inline-block",active:e===t.currentPage,disabled:e===t.currentPage,onClick:C((a=>t.goToPageNumber(e)),["prevent"])},{default:k((()=>[L(P(e),1)])),_:2},1032,["active","disabled","onClick"])))),128)),t.showDots("right")?(i(),u(I,{key:1},[w(r,{class:"sm:dt-hidden"},{default:k((()=>[rt])),_:1}),w(r,{class:"sm:dt-hidden",disabled:t.isInLastPage,active:t.isInLastPage,onClick:C(t.gotoLastPage,["prevent"])},{default:k((()=>[L(P(t.totalPages),1)])),_:1},8,["disabled","active","onClick"])],64)):O("",!0),w(r,{disabled:t.isInLastPage,onClick:C(t.gotoNextPage,["prevent"])},{default:k((()=>[st,ot])),_:1},8,["disabled","onClick"]),w(r,{disabled:t.isInLastPage,class:"dt-rounded-r-md",onClick:C(t.gotoLastPage,["prevent"])},{default:k((()=>[it,ut])),_:1},8,["disabled","onClick"])])])):O("",!0)])])):O("",!0)};const ct={},gt={class:"dt__table__tbody_td dt-px-6 dt-py-4 dt-whitespace-nowrap dt-text-sm dt-font-medium dt-text-gray-500"};ct.render=function(t,e){return i(),u("td",gt,[y(t.$slots,"default")])};const pt={},bt={scope:"col",class:"dt__table__thead__th dt-px-6 dt-py-3 dt-text-left dt-text-xs dt-font-medium dt-text-gray-500 dt-uppercase dt-tracking-wider"};pt.render=function(t,e){return i(),u("th",bt,[y(t.$slots,"default")])};const vt=[5,10,15,25,50,75,100],_t=g({components:{SearchIcon:N,Loading:Q,Pagination:E,TableBody:ct,TableHead:pt},props:{rows:{type:Array,required:!0},columns:{type:Object,required:!1,default:null},pagination:{type:Object,required:!1,default:null},striped:{type:Boolean,required:!1,default:!1},sn:{type:Boolean,required:!1,default:!1},filter:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},perPageOptions:{type:Array,required:!1,default:()=>vt},query:{type:Object,required:!1,default:()=>({})}},emits:["loadData"],setup(t,{emit:e}){var a,n;const d=j({page:(null==(a=t.pagination)?void 0:a.page)||1,search:t.query.search||"",per_page:(null==(n=t.pagination)?void 0:n.per_page)||10}),l=v((()=>!!t.pagination)),r=v((()=>{var e;return(null==(e=t.pagination)?void 0:e.total)||t.rows.length})),i=v((()=>t.rows)),u=v((()=>t.columns?t.columns:0===t.rows.length?{}:Object.keys(t.rows[0]).reduce(((t,e)=>o(s({},t),{[e]:e})),{}))),c=v((()=>l.value?d.value.per_page*(d.value.page-1):0));S((()=>s({},d.value)),(()=>{e("loadData",d.value)}),{deep:!0,immediate:!0});const g=((t,e=400)=>{let a;return(...n)=>{clearTimeout(a),a=setTimeout((()=>t(...n)),e)}})((t=>{d.value=o(s({},d.value),{page:1,search:t.target.value})}));return{tableQuery:d,showPagination:l,totalData:r,tableRows:i,tableColumns:u,paginatedRowIndex:c,uniqueId:()=>Math.floor(100*Math.random()),handlePageChange:t=>{d.value.page=t},handleOnSearchChange:g,handleOnChange:t=>{const{name:e,value:a}=t.target;d.value=o(s({},d.value),{page:1,[e]:a})}}}});const mt={class:"data-table dt-flex dt-flex-col"},yt={class:"dt-align-middle dt-min-w-full"},ft={key:0,class:"dt__filter dt-mb-3 dt-w-full"},ht={class:"dt-w-64"},Pt=c("label",{for:"email",class:"dt-sr-only"},"Search",-1),xt={class:"dt-relative dt-rounded-md dt-shadow-sm"},wt=["value"],Ct={class:"dt-absolute dt-inset-y-0 dt-right-0 dt-pr-3 dt-flex dt-items-center dt-pointer-events-none"},kt={class:"dt__table_wrapper dt-relative dt-overflow-hidden sm:dt-rounded-lg"},It={key:1,class:"dt__pagination_wrapper--top md:dt-flex smdt-flex-col dt-bg-white dt-items-center"},Ot={class:"dt__pagination_size_wrapper dt-pr-4 dt-w-full dt-pb-3 dt-flex dt-justify-end sm:dt-pr-6 sm:dt-pb-0 sm:dt-w-auto"},qt=c("label",{for:"location",class:"dt-sr-only"},"Per page",-1),$t=["value"],Lt=["value","selected","textContent"],jt={class:"dt__table_container dt-overflow-auto"},St={class:"dt__table dt-min-w-full dt-divide-y dt-divide-gray-200"},Bt={class:"dt__table__thead dt-bg-gray-50"},Nt={class:"dt__table__thead_tr"},Dt={class:"dt__table__tbody"},Ft={key:2,class:"dt__pagination_wrapper--bottom"};_t.render=function(t,e,a,n,d,l){const r=f("search-icon"),s=f("Loading"),o=f("pagination"),g=f("table-head"),p=f("table-body");return i(),u("div",mt,[c("div",yt,[t.filter?(i(),u("div",ft,[c("div",ht,[Pt,c("div",xt,[c("input",{value:t.tableQuery.search,type:"search",name:"search",class:"dt__filter__search dt-block dt-border dt-border-gray-300 dt-pr-10 dt-px-2 dt-py-2\n                                    dt-rounded-md dt-w-full dt-outline-none focus:dt-ring-1 focus:dt-ring-inset sm:dt-text-sm",onInput:e[0]||(e[0]=(...e)=>t.handleOnSearchChange&&t.handleOnSearchChange(...e))},null,40,wt),c("div",Ct,[w(r,{class:"dt-text-gray-400"})])])])])):O("",!0),c("div",kt,[t.loading?y(t.$slots,"loading",{key:0},(()=>[w(s)])):O("",!0),t.showPagination?(i(),u("div",It,[w(o,{class:"dt-flex-1",total:t.totalData,"current-page":t.tableQuery.page,"per-page":parseInt(t.tableQuery.per_page.toString()),onChanged:t.handlePageChange},null,8,["total","current-page","per-page","onChanged"]),c("div",Ot,[c("div",null,[qt,c("select",{value:t.tableQuery.per_page,name:"per_page",class:"dt__pagination_size dt-block dt-w-full dt-pl-3 dt-pr-5 dt-py-2 dt-text-base dt-border dt-border-gray-300 sm:dt-text-sm dt-rounded-md dt-outline-none focus:dt-ring-1",onInput:e[1]||(e[1]=(...e)=>t.handleOnChange&&t.handleOnChange(...e))},[(i(!0),u(I,null,q(t.perPageOptions,(e=>(i(),u("option",{key:`per_page_${e}`,value:e,selected:e===t.tableQuery.per_page,textContent:P(e)},null,8,Lt)))),128))],40,$t)])])])):O("",!0),c("div",jt,[c("table",St,[c("thead",Bt,[c("tr",Nt,[t.sn?y(t.$slots,"thead-sn",{key:0},(()=>[w(g,{textContent:P("S.N.")},null,8,["textContent"])])):O("",!0),y(t.$slots,"thead",{column:t.tableColumns},(()=>[(i(!0),u(I,null,q(t.tableColumns,((t,e)=>(i(),$(g,{key:`datatable-thead-th-${e}`,textContent:P(t)},null,8,["textContent"])))),128))]))])]),c("tbody",Dt,[(i(!0),u(I,null,q(t.tableRows,((e,a)=>(i(),u("tr",{key:`datatable-tbody-${t.uniqueId()}-${a}`,class:B(["dt__table__tbody__tr",t.striped&&a%2?"dt-bg-gray-50":"dt-bg-white"])},[t.sn?y(t.$slots,"tbody-sn",{key:0,sn:a+1},(()=>[w(p,{textContent:P(a+1+t.paginatedRowIndex)},null,8,["textContent"])])):O("",!0),y(t.$slots,"tbody",{index:a,row:e},(()=>[(i(!0),u(I,null,q(t.tableColumns,((a,n)=>(i(),$(p,{key:`datatable-tbody-td-${t.uniqueId()}-${n}`,name:a,textContent:P(e[n])},null,8,["name","textContent"])))),128))]))],2)))),128))])])]),t.showPagination?(i(),u("div",Ft,[w(o,{total:t.totalData,"current-page":t.tableQuery.page,"per-page":parseInt(t.tableQuery.per_page.toString()),onChanged:t.handlePageChange},null,8,["total","current-page","per-page","onChanged"])])):O("",!0)])])])};export{_t as DataTable,E as Pagination,z as PaginationLink,ct as TableBody,pt as TableHead};
