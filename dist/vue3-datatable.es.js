var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,d=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&o(e,a,t[a]);if(n)for(var a of n(t))l.call(t,a)&&o(e,a,t[a]);return e},i=(e,n)=>t(e,a(n));import{defineComponent as s,openBlock as g,createElementBlock as u,createElementVNode as p,mergeProps as c,resolveComponent as j,createVNode as f,pushScopeId as b,popScopeId as m,renderSlot as v,computed as y,toHandlers as h,createBlock as P,withCtx as x,toDisplayString as C,createCommentVNode as w,withModifiers as k,Fragment as _,renderList as I,createTextVNode as q,normalizeClass as B,ref as $,watch as T}from"vue";var S=s({name:"SearchIcon"});const O={xmlns:"http://www.w3.org/2000/svg",class:"dt-jg-h-5 dt-jg-h-5",viewBox:"0 0 20 20",fill:"currentColor"},L=[p("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"},null,-1)];S.render=function(e,t,a,n,r,l){return g(),u("svg",O,L)};var N=s({name:"SearchInput",props:{value:{type:String,required:!1}}});const D=["value"];N.render=function(e,t,a,n,r,l){return g(),u("input",c({value:e.value,type:"search",name:"search",class:" dt-jg-block dt-jg-border dt-jg-border-gray-300 dt-jg-pr-10 dt-jg-px-2 dt-jg-py-2\r\n                                    dt-jg-rounded-md dt-jg-w-full dt-jg-outline-none focus:dt-jg-ring-1 focus:dt-jg-ring-inset sm:dt-jg-text-sm"},e.$attrs),null,16,D)};var F=s({name:"Filter",components:{SearchInput:N,SearchIcon:S},props:{search:{type:String,required:!1}},emits:["input"],methods:{emitirEvento(e){this.$emit("input",e.target.value)}}});const R={class:"dt-jg-mb-3 dt-jg-w-full"},z={class:"dt-jg-w-64"},H=p("label",{for:"email",class:"dt-jg-sr-only"},"Search",-1),Q={class:"dt-jg-relative dt-jg-rounded-md dt-jg-shadow-sm"},W={class:"dt-jg-absolute dt-jg-inset-y-0 dt-jg-right-0 dt-jg-pr-3 dt-jg-flex dt-jg-items-center dt-jg-pointer-events-none"};F.render=function(e,t,a,n,r,l){const o=j("SearchInput"),d=j("SearchIcon");return g(),u("div",R,[p("div",z,[H,p("div",Q,[f(o,{value:e.search,onInput:t[0]||(t[0]=t=>e.emitirEvento(t))},null,8,["value"]),p("div",W,[f(d,{class:"dt-jg-text-gray-400"})])])])])};var E=s({name:"Loading"});b("data-v-67bea9ec");const M={class:"dt-jg-loading dt-jg-absolute dt-h-full dt-jg-w-full"},A=[p("div",{class:"dt-jg-flex dt-jg-justify-center dt-jg-items-center"},[p("div",{class:"dt-jg-loading-item dt-jg-absolute dt-jg-w-20 dt-jg-h-20 dt-jg-rounded-full"}),p("div",{class:"dt-jg-loading-item dt-jg-absolute dt-jg-w-20 dt-jg-h-20 dt-jg-rounded-full"})],-1)];m(),E.render=function(e,t,a,n,r,l){return g(),u("div",M,A)},E.__scopeId="data-v-67bea9ec";var V=s({name:"BottomPaginationWrapper"});const G={class:"dt-jg-bg-white dt-jg-shadow-inner"},U={class:"dt-jg-px-4 sm:dt-jg-px-6 dt-jg-py-4"};V.render=function(e,t,a,n,r,l){return g(),u("div",G,[p("div",U,[v(e.$slots,"default")])])};var J=s({name:"PaginationButtons"});const K={class:"dt-jg-relative dt-jg-z-0 dt-jg-inline-flex dt-jg-rounded-md dt-jg-shadow-sm dt-jg-space-x-px","aria-label":"Pagination"};J.render=function(e,t,a,n,r,l){return g(),u("nav",K,[v(e.$slots,"default")])};var X=s({name:"PaginationInfo"});const Y={class:"dt-jg-pagination-info"},Z={class:"dt-jg-text-sm dt-jg-text-gray-700"};X.render=function(e,t,a,n,r,l){return g(),u("div",Y,[p("p",Z,[v(e.$slots,"default")])])};var ee=s({name:"PaginationLink",props:{active:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},setup:e=>({linkClasses:y((()=>e.active?"dt-jg-bg-gray-200 dt-jg-border-gray-300 dt-jg-text-gray-800 hover:dt-jg-bg-gray-200":e.disabled?"dt-jg-cursor-not-allowed dt-jg-text-gray-400":"dt-jg-border-gray-300 dt-jg-bg-white dt-jg-text-gray-500 hover:dt-jg-bg-gray-50"))})});ee.render=function(e,t,a,n,r,l){return g(),u("a",c({href:"#",class:["dt-jg-pagination-jg-link dt-jg-relative dt-jg-inline-flex dt-jg-items-center dt-jg-px-4 dt-jg-py-2 dt-jg-border dt-jg-text-sm dt-jg-font-medium",e.linkClasses]},h(d({},e.$attrs))),[v(e.$slots,"default")],16)};var te=s({name:"Pagination",components:{PaginationButtons:J,PaginationInfo:X,PaginationLink:ee},props:{total:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!1,default:1},maxVisibleButtons:{type:Number,required:!1,default:5}},emits:["changed"],setup(e,{emit:t}){const a=y((()=>(e.currentPage-1)*e.perPage+1)),n=y((()=>e.total>e.currentPage*e.perPage?e.currentPage*e.perPage:e.total)),r=y((()=>Math.ceil(e.total/e.perPage))),l=y((()=>1===e.currentPage?1:e.currentPage===r.value?r.value-e.maxVisibleButtons+1:e.currentPage-1)),o=y((()=>Math.min(l.value+e.maxVisibleButtons-1,r.value))),d=y((()=>{const e=[];for(let t=l.value;t<=o.value;t+=1)t>0&&e.push(t);return e})),i=y((()=>1===e.currentPage)),s=y((()=>e.currentPage===r.value)),g=e=>{t("changed",e)};return{currentStart:a,currentEnd:n,totalPages:r,pages:d,isInFirstPage:i,isInLastPage:s,goToPageNumber:g,gotoFirstPage:()=>g(1),gotoLastPage:()=>g(r.value),gotoNextPage:()=>g(e.currentPage>=r.value?r.value:e.currentPage+1),gotoPreviousPage:()=>g(e.currentPage<=1?1:e.currentPage-1),showDots:(e="left")=>{const t="left"===e?1:r.value,a="left"===e?2:r.value-1;return!d.value.includes(t)||!d.value.includes(a)}}}});const ae={key:0,class:"dt-jg-bg-white dt-jg-flex dt-jg-items-center dt-jg-justify-between"},ne={class:"dt-jg-hidden sm:dt-jg-flex-1 sm:dt-jg-flex sm:dt-jg-items-center sm:dt-jg-justify-between"},re=q(" Showing "),le=["textContent"],oe=q(" to "),de=["textContent"],ie=q(" of "),se=["textContent"],ge=q(" results. "),ue=p("span",{class:"dt-jg-sr-only"},"Go to first",-1),pe=q(" « "),ce=p("span",{class:"dt-jg-sr-only"},"Previous",-1),je=q(" ‹ "),fe=q(" 1 "),be=q(" ... "),me=q(" ... "),ve=p("span",{class:"dt-jg-sr-only"},"Next",-1),ye=q(" › "),he=p("span",{class:"dt-jg-sr-only"},"Go to Last",-1),Pe=q(" » ");te.render=function(e,t,a,n,r,l){const o=j("PaginationInfo"),d=j("pagination-link"),i=j("PaginationButtons");return e.totalPages?(g(),u("div",ae,[p("div",ne,[e.total?(g(),P(o,{key:0},{default:x((()=>[v(e.$slots,"pagination-info",{start:e.currentStart,end:e.currentEnd,total:e.total},(()=>[re,p("span",{class:"dt-jg-font-medium",textContent:C(e.currentStart)},null,8,le),oe,p("span",{class:"dt-jg-font-medium",textContent:C(e.currentEnd)},null,8,de),ie,p("span",{class:"dt-jg-font-medium",textContent:C(e.total)},null,8,se),ge]))])),_:3})):w("",!0),e.totalPages>1?(g(),P(i,{key:1},{default:x((()=>[f(d,{key:"page_first",disabled:e.isInFirstPage,class:"dt-jg-rounded-l-md",onClick:k(e.gotoFirstPage,["prevent"])},{default:x((()=>[ue,pe])),_:1},8,["disabled","onClick"]),f(d,{key:"page_previous",disabled:e.isInFirstPage,onClick:k(e.gotoPreviousPage,["prevent"])},{default:x((()=>[ce,je])),_:1},8,["disabled","onClick"]),e.showDots("left")?(g(),u(_,{key:0},[f(d,{key:"page_1",class:"dt-jg-block sm:dt-jg-hidden",disabled:e.isInFirstPage,active:e.isInFirstPage,onClick:k(e.gotoFirstPage,["prevent"])},{default:x((()=>[fe])),_:1},8,["disabled","active","onClick"]),f(d,{key:"page_divider_left",class:"sm:dt-jg-hidden"},{default:x((()=>[be])),_:1})],64)):w("",!0),(g(!0),u(_,null,I(e.pages,(t=>(g(),P(d,{key:`pages_${t}`,class:"dt-jg-hidden md:dt-inline-block",active:t===e.currentPage,disabled:t===e.currentPage,onClick:k((a=>e.goToPageNumber(t)),["prevent"])},{default:x((()=>[q(C(t),1)])),_:2},1032,["active","disabled","onClick"])))),128)),e.showDots("right")?(g(),u(_,{key:1},[f(d,{key:"page_divider_right",class:"sm:dt-jg-hidden"},{default:x((()=>[me])),_:1}),f(d,{key:`page_${e.totalPages}`,class:"sm:dt-jg-hidden",disabled:e.isInLastPage,active:e.isInLastPage,onClick:k(e.gotoLastPage,["prevent"])},{default:x((()=>[q(C(e.totalPages),1)])),_:1},8,["disabled","active","onClick"])],64)):w("",!0),f(d,{key:"page_next",disabled:e.isInLastPage,onClick:k(e.gotoNextPage,["prevent"])},{default:x((()=>[ve,ye])),_:1},8,["disabled","onClick"]),f(d,{key:"page_last",disabled:e.isInLastPage,class:"dt-jg-rounded-r-md",onClick:k(e.gotoLastPage,["prevent"])},{default:x((()=>[he,Pe])),_:1},8,["disabled","onClick"])])),_:1})):w("",!0)])])):w("",!0)};var xe=s({name:"PaginationSize",props:{value:{type:[Number,String],required:!0},options:{type:Array,required:!0}},emits:["input"],methods:{emitirEvento(e){this.$emit("input",e.target.value)},obtenerOptions(){return this.options}}});const Ce={class:"dt-jg-pagination-size-wrapper dt-jg-w-full dt-jg-flex dt-jg-justify-end sm:dt-jg-w-auto"},we=p("label",{for:"location",class:"dt-jg-sr-only"},"Per page",-1),ke=["value"],_e=["value","selected","textContent"];xe.render=function(e,t,a,n,r,l){return g(),u("div",Ce,[p("div",null,[we,p("select",{value:e.value,name:"per_page",class:"dt-jg-pagination-size dt-jg-block dt-jg-w-full dt-jg-pl-3 dt-jg-pr-5 dt-jg-py-2 dt-jg-text-base dt-jg-border\r\n                        dt-jg-border-gray-300 sm:dt-jg-text-sm dt-jg-rounded-md dt-jg-outline-none focus:dt-jg-ring-1 focus:dt-jg-ring-inset",onInput:t[0]||(t[0]=t=>e.emitirEvento(t))},[(g(!0),u(_,null,I(e.obtenerOptions(),(t=>(g(),u("option",{key:`per_page_${t}`,value:t,selected:t===e.value,textContent:C(t)},null,8,_e)))),128))],40,ke)])])};var Ie=s({name:"TopPaginationWrapper",props:{withPagination:{type:Boolean,required:!1,default:!1}}});Ie.render=function(e,t,a,n,r,l){return g(),u("div",{class:B(["dt-jg-pagination-wrapper--top md:dt-jg-flex xs:dt-jg-flex-col dt-jg-items-center",{"dt-jg-bg-white dt-jg-py-4 dt-jg-px-4 sm:dt-jg-px-6":e.withPagination}])},[v(e.$slots,"default")],2)};var qe=s({name:"TableBodyCell"});const Be={class:"dt-jg-table-tbody-td dt-jg-px-6 dt-jg-py-4 dt-jg-whitespace-nowrap dt-jg-text-sm dt-jg-font-medium dt-jg-text-gray-500"};qe.render=function(e,t,a,n,r,l){return g(),u("td",Be,[v(e.$slots,"default")])};var $e=s({name:"TableHeadCell"});const Te={scope:"col",class:"dt-jg-table-thead-th dt-jg-px-6 dt-jg-py-3 dt-jg-text-left dt-jg-text-xs dt-jg-font-medium dt-jg-text-gray-500 dt-jg-uppercase dt-jg-tracking-wider"};$e.render=function(e,t,a,n,r,l){return g(),u("th",Te,[v(e.$slots,"default")])};var Se=s({name:"TableRow",props:{rowIndex:{type:[Number,String],required:!1,default:0},striped:{type:Boolean,required:!1,default:!1},hoverable:{type:Boolean,required:!1,default:!1},nonClickable:{type:Boolean,required:!1,default:!1}},emits:["clicked"],setup:e=>({formattedRowIndex:$(parseInt(String(e.rowIndex||0)))})});Se.render=function(e,t,a,n,r,l){return g(),u("tr",{class:B(["dt-jg-table-jgrow",{"dt-jg-bg-white":!e.striped||e.striped&&e.formattedRowIndex%2==0,"dt-jg-bg-gray-50":e.striped&&e.formattedRowIndex%2,"hover:dt-jg-bg-gray-100":e.hoverable,"dt-jg-cursor-pointer":e.hoverable&&!e.nonClickable}]),onClick:t[0]||(t[0]=k((t=>e.$emit("clicked")),["stop"]))},[v(e.$slots,"default")],2)};var Oe=s({name:"TableWrapper"});const Le={class:"dt-jg-table-wrapper dt-jg-overflow-auto"},Ne={class:"dt-jg-table dt-jg-min-w-full dt-jg-divide-y dt-jg-divide-gray-200",style:{width:"100%"}};Oe.render=function(e,t,a,n,r,l){return g(),u("div",Le,[p("table",Ne,[v(e.$slots,"default")])])};var De=s({name:"TBody"});const Fe={class:"dt-jg-table-tbody"};De.render=function(e,t,a,n,r,l){return g(),u("tbody",Fe,[v(e.$slots,"default")])};var Re=s({name:"THead"});const ze={class:"dt-jg-table-thead dt-jg-bg-gray-50"},He={class:"dt-jg-table-thead-tr"};Re.render=function(e,t,a,n,r,l){return g(),u("thead",ze,[p("tr",He,[v(e.$slots,"default")])])};const Qe=[5,10,15,25,50,75,100];var We=s({name:"DataTable",components:{TableHeadCell:$e,TableBodyCell:qe,TBody:De,TableRow:Se,THead:Re,BottomPaginationWrapper:V,TableWrapper:Oe,PaginationSize:xe,TopPaginationWrapper:Ie,Filter:F,Loading:E,Pagination:te},props:{rows:{type:Array,required:!0},columns:{type:Object,required:!1,default:null},pagination:{type:Object,required:!1,default:null},rounded:{type:Boolean,required:!1,default:!1},striped:{type:Boolean,required:!1,default:!1},sn:{type:Boolean,required:!1,default:!1},filter:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},perPageOptions:{type:Array,required:!1,default:()=>Qe},query:{type:Object,required:!1,default:()=>({})},topPagination:{type:Boolean,required:!1,default:!1},bottomPagination:{type:Boolean,required:!1,default:!0},hoverable:{type:Boolean,required:!1,default:!1},nonClickable:{type:Boolean,required:!1,default:!1}},emits:["loadData","rowClicked"],setup(e,{emit:t}){var a,n;const r=$({page:(null==(a=e.pagination)?void 0:a.page)||1,search:e.query.search||"",per_page:(null==(n=e.pagination)?void 0:n.per_page)||10}),l=y((()=>!!e.pagination)),o=y((()=>{var t;return(null==(t=e.pagination)?void 0:t.total)||e.rows.length})),s=y((()=>e.rows)),g=y((()=>{if(e.columns)return e.columns;if(0===e.rows.length)return{};const t=e.rows;return Object.keys(t[0]).reduce(((e,t)=>{return i(d({},e),{[t]:(a=t,a.toLowerCase().replace(/[-_]/g," ").split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "))});var a}),{})})),u=y((()=>l.value?Number(r.value.per_page)*(Number(r.value.page)-1):0));T((()=>d({},r.value)),(()=>{t("loadData",r.value)}),{deep:!0,immediate:!0});const p=((e,t=400)=>{let a;return(...n)=>{clearTimeout(a),a=setTimeout((()=>e(...n)),t)}})((e=>{r.value=i(d({},r.value),{page:1,search:e})}));return{tableQuery:r,showPagination:l,totalData:o,tableRows:s,tableColumns:g,paginatedRowIndex:u,uniqueId:()=>Math.floor(100*Math.random()),handlePageChange:e=>{r.value.page=e},handleOnSearchChange:p,handleOnPaginationSizeChange:e=>{r.value=i(d({},r.value),{page:1,per_page:e})},rowClickHandler:a=>{!e.nonClickable&&e.hoverable&&t("rowClicked",a)}}}});const Ee={class:"data-table dt-jg-flex dt-jg-flex-col"},Me={class:"dt-jg-align-middle dt-jg-min-w-full"},Ae=q(" Showing "),Ve=["textContent"],Ge=q(" to "),Ue=["textContent"],Je=q(" of "),Ke=["textContent"],Xe=q(" results. "),Ye=q(" Showing "),Ze=["textContent"],et=q(" to "),tt=["textContent"],at=q(" of "),nt=["textContent"],rt=q(" results. ");We.render=function(e,t,a,n,r,l){const o=j("Filter"),d=j("Loading"),i=j("Pagination"),s=j("PaginationSize"),c=j("TopPaginationWrapper"),b=j("TableHeadCell"),m=j("THead"),y=j("TableBodyCell"),h=j("TableRow"),k=j("TBody"),q=j("TableWrapper"),$=j("pagination"),T=j("BottomPaginationWrapper");return g(),u("div",Ee,[p("div",Me,[e.filter&&e.topPagination?(g(),P(o,{key:0,search:e.tableQuery.search||"",onInput:e.handleOnSearchChange},null,8,["search","onInput"])):w("",!0),p("div",{class:B(["dt-jg-wrapper dt-jg-relative",{"sm:dt-jg-rounded-lg":e.rounded}])},[e.loading?v(e.$slots,"loading",{key:0},(()=>[f(d)])):w("",!0),e.tableQuery.per_page?(g(),u(_,{key:1},[e.showPagination?(g(),P(c,{key:0,"with-pagination":e.topPagination},{default:x((()=>[e.topPagination?(g(),P(i,{key:0,class:"dt-jg-flex-1 dt-jg-pr-4",total:e.totalData,"current-page":e.tableQuery.page,"per-page":parseInt(e.tableQuery.per_page.toString()),onChanged:e.handlePageChange},{"pagination-info":x((t=>[v(e.$slots,"pagination-info",{start:t.start,end:t.end,total:t.total},(()=>[Ae,p("span",{class:"dt-jg-font-medium",textContent:C(t.start)},null,8,Ve),Ge,p("span",{class:"dt-jg-font-medium",textContent:C(t.end)},null,8,Ue),Je,p("span",{class:"dt-jg-font-medium",textContent:C(t.total)},null,8,Ke),Xe]))])),_:3},8,["total","current-page","per-page","onChanged"])):w("",!0),e.filter&&!e.topPagination?(g(),P(o,{key:1,search:e.tableQuery.search||"",onInput:e.handleOnSearchChange},null,8,["search","onInput"])):w("",!0),f(s,{value:e.tableQuery.per_page,options:e.perPageOptions,onInput:e.handleOnPaginationSizeChange},null,8,["value","options","onInput"])])),_:3},8,["with-pagination"])):w("",!0)],64)):w("",!0),f(q,null,{default:x((()=>[f(m,null,{default:x((()=>[e.sn?v(e.$slots,"thead-sn",{key:0},(()=>[f(b,{class:"dt-jg-table-thead-th-sn",textContent:C("S.N.")},null,8,["textContent"])])):w("",!0),v(e.$slots,"thead",{column:e.tableColumns},(()=>[(g(!0),u(_,null,I(e.tableColumns,((e,t)=>(g(),P(b,{key:`datatable-thead-th-${t}`,textContent:C(e)},null,8,["textContent"])))),128))]))])),_:3}),f(k,null,{default:x((()=>[(g(!0),u(_,null,I(e.tableRows,((t,a)=>(g(),P(h,{key:`datatable-row-${e.uniqueId()}-${a}`,hoverable:e.hoverable,"non-clickable":e.nonClickable,"row-index":a,striped:e.striped,onClicked:a=>e.rowClickHandler(t)},{default:x((()=>[e.sn?v(e.$slots,"tbody-sn",{key:0,sn:a+1},(()=>[f(y,{class:"dt-jg-table-tbody-td-sn",textContent:C(a+1+e.paginatedRowIndex)},null,8,["textContent"])])):w("",!0),v(e.$slots,"tbody",{index:a,row:t},(()=>[(g(!0),u(_,null,I(e.tableColumns,((a,n)=>(g(),P(y,{key:`datatable-tbody-td-${e.uniqueId()}-${n}`,name:a,textContent:C(t[n])},null,8,["name","textContent"])))),128))]))])),_:2},1032,["hoverable","non-clickable","row-index","striped","onClicked"])))),128)),0===e.tableRows.length?(g(),P(h,{key:0,"row-index":0},{default:x((()=>[v(e.$slots,"empty")])),_:3})):w("",!0)])),_:3})])),_:3}),e.tableQuery.per_page?(g(),u(_,{key:2},[e.showPagination&&e.bottomPagination?(g(),P(T,{key:0},{default:x((()=>[f($,{total:e.totalData,"current-page":e.tableQuery.page,"per-page":parseInt(e.tableQuery.per_page.toString()),onChanged:e.handlePageChange},{"pagination-info":x((t=>[v(e.$slots,"pagination-info",{start:t.start,end:t.end,total:t.total},(()=>[Ye,p("span",{class:"dt-jg-font-medium",textContent:C(t.start)},null,8,Ze),et,p("span",{class:"dt-jg-font-medium",textContent:C(t.end)},null,8,tt),at,p("span",{class:"dt-jg-font-medium",textContent:C(t.total)},null,8,nt),rt]))])),_:3},8,["total","current-page","per-page","onChanged"])])),_:3})):w("",!0)],64)):w("",!0)],2)])])};export{We as DataTable,te as Pagination,ee as PaginationLink,qe as TableBody,qe as TableBodyCell,$e as TableHead,$e as TableHeadCell};
